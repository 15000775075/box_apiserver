(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-changePhone"],{1172:function(t,e,n){"use strict";var i=n("5f9d"),a=n.n(i);a.a},"46cf":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uNavbar:n("536a").default,uField:n("6c4d").default,uVerificationCode:n("9fc8").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("u-navbar",{attrs:{"border-bottom":!1,title:" ",immersive:!0,background:{backgroundColor:"rgba(0, 0, 0, 0)"}}}),n("v-uni-view",{staticClass:"top"},[n("v-uni-image",{attrs:{src:"https://img.50api.cn/dingdang/qh.png",mode:"widthFix"}}),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",[t._v("你好，")]),n("v-uni-view",[t._v("请绑定手机号")])],1)],1),n("v-uni-view",{staticClass:"biaodan"},[n("v-uni-view",{staticClass:"row"},[n("u-field",{attrs:{type:"number",label:"+86",maxlength:"11",placeholder:"请填写手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"row"},[n("u-field",{attrs:{type:"number",label:"验证码",placeholder:"清输入验证码"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}},[n("v-uni-text",{staticClass:"huoqu",attrs:{slot:"right"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}},slot:"right"},[t._v(t._s(t.codeText))])],1),n("u-verification-code",{ref:"uCode",attrs:{"change-text":"xs"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.codeChange.apply(void 0,arguments)}}})],1),n("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("绑定")])],1)],1)},o=[]},"5f9d":function(t,e,n){var i=n("746a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("35bd653b",i,!0,{sourceMap:!1,shadowMode:!1})},"6b4d":function(t,e,n){"use strict";n.r(e);var i=n("a0ff"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"746a":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".top[data-v-4e28ace8]{position:relative}.top uni-image[data-v-4e28ace8]{width:%?750?%}.top .text[data-v-4e28ace8]{position:absolute;left:%?60?%;top:%?170?%;font-size:%?50?%}.biaodan[data-v-4e28ace8]{padding:%?40?% %?60?%;box-sizing:border-box}.huoqu[data-v-4e28ace8]{color:#00dad9}.row[data-v-4e28ace8]{margin-bottom:%?30?%}.btn[data-v-4e28ace8]{background-color:#00dad9;font-size:%?32?%;margin-top:%?40?%}",""]),t.exports=e},a0ff:function(t,e,n){"use strict";(function(t){n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac1f"),n("00b4");var i={data:function(){return{phone:"",num:"",code:"",codeText:""}},methods:{codeChange:function(t){this.codeText=t},getCode:function(){var t=this;if(this.$refs.uCode.canGetCode){if(0==this.$tip.phoneReg.test(this.phone))return void this.$tip.tip("请填写正确的手机号");uni.showLoading({title:"正在获取验证码"}),this.$http({url:"index.php/api/sms/send",data:{event:"bindmobile",mobile:this.phone}}).then((function(e){1==e.data.code&&(uni.hideLoading(),t.$refs.uCode.start())})).catch((function(t){}))}else this.$u.toast("倒计时结束后再发送")},submit:function(){var e=this;0!=this.$tip.phoneReg.test(this.phone)?""!=this.num?this.$http({url:"index.php/api/user/bindMobile",data:{mobile:this.phone,captcha:this.num}}).then((function(n){t("log",n," at pages/my/changePhone.vue:94"),1==n.data.code?(e.$tip.tip("绑定成功"),e.getUser(),setTimeout((function(){uni.switchTab({url:"/pages/tabBar/home"})}),700)):e.$tip.tip(n.data.msg)})).catch((function(t){})):this.$tip.tip("请填写验证码"):this.$tip.tip("请填写正确的手机号")},getUser:function(){this.$http({url:"index.php/api/user/userinfo",header:{token:uni.getStorageSync("user").token}}).then((function(t){1==t.data.code&&uni.setStorageSync("userInfo",t.data.data)})).catch((function(t){}))}}};e.default=i}).call(this,n("0de9")["log"])},d893:function(t,e,n){"use strict";n.r(e);var i=n("46cf"),a=n("6b4d");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("1172");var u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"4e28ace8",null,!1,i["a"],void 0);e["default"]=s.exports}}]);